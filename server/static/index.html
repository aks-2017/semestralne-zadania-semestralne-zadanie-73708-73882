<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mininet_wifi playground</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gojs/1.8.2/go.js"></script>
    
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="static/style.css">



</head>
<body onload="init()">

<div class="container">


        <h2 class="text-center">Vytvorenie topologie</h2>
        <div class="row">
            <label >Pocet stanic</label>
            <div class="col-xs-3 col-xs-offset-3">
                <div class="input-group number-spinner">
				<span class="input-group-btn">
					<button class="btn btn-default" data-dir="dwn"><span class="glyphicon glyphicon-minus"></span></button>
				</span>
                    <input id="in_st" type="text" class="form-control text-center" value="1">
                    <span class="input-group-btn">
					<button class="btn btn-default" data-dir="up"><span class="glyphicon glyphicon-plus"></span></button>
				</span>
                </div>
            </div>
        </div>

        <div class="row">
            <label>Pocet pristupovych bodov</label>
            <div class="col-xs-3 col-xs-offset-3">
                <div class="input-group number-spinner">
				<span class="input-group-btn">
					<button class="btn btn-default" data-dir="dwn"><span class="glyphicon glyphicon-minus"></span></button>
				</span>
                    <input id="in_ap" type="text" class="form-control text-center" value="1">
                    <span class="input-group-btn">
					<button class="btn btn-default" data-dir="up"><span class="glyphicon glyphicon-plus"></span></button>
				</span>
                </div>
            </div>
        </div>
    <div class="row">
        <button class="cudlik btn btn-lg btn-primary col-xs-3 col-xs-offset-3" onclick="create();">Create TOPO</button>
        </div>
<div class="row">
    <span id="myspan"></span>
</div>


    <div id="myDiagramDiv" style="border: solid 1px black; width:100%; height:600px"></div>
  <p> A sample of a Euler diagram: that is, a means of representing various sets and their relationships with one another. Euler diagrams have much in common with Venn diagrams.
    This diagram is read-only, but clicking on a node will search Wikipedia
    with a query string generated from the "text" property of the node data.
  </p>



</div>

</body>

<script>
    $(document).on('click', '.number-spinner button', function () {
        var btn = $(this),
            oldValue = btn.closest('.number-spinner').find('input').val().trim(),
            newVal = 0;

        if (btn.attr('data-dir') == 'up') {
            newVal = parseInt(oldValue) + 1;
        } else {
            if (oldValue > 1) {
                newVal = parseInt(oldValue) - 1;
            } else {
                newVal = 1;
            }
        }
        btn.closest('.number-spinner').find('input').val(newVal);
    });


       function create(){

            var station = $('#in_st').val();
            var ap = $('#in_ap').val();
            var list = {ap,station}
            $.ajax({
                url: '/create',
                data: JSON.stringify(list),
                contentType: "application/json",
                type: 'POST',
                success: function(response) {
                    document.getElementById("myspan").textContent=response.sprava;
                },
                error: function(error) {
                    console.log(error);
                }
            });
        };


function init() {
    
    var $ = go.GraphObject.make;
    myDiagram =
      $(go.Diagram, "myDiagramDiv",
        { isReadOnly: true, allowSelect: false, contentAlignment: go.Spot.Center });
    myDiagram.nodeTemplateMap.add("st",
      $(go.Node, "Auto",
        { locationSpot: go.Spot.Center },
        new go.Binding("location", "loc", go.Point.parse),
        

        $(go.Shape, "Circle",
          {
            fill: "rgba(0,128,0,0.2)", stroke: null,
            width: 300, height: 300
          }),

        $(go.TextBlock, { margin: 5, font: "bold 26px Georgia, Serif" },
        new go.Binding("text", "name"))
        
      ));

    myDiagram.nodeTemplateMap.add("ap",
      $(go.Node, "Spot",
        { locationSpot: go.Spot.Center },
        new go.Binding("location", "loc", go.Point.parse),
        
        $(go.Panel, "Spot",
                  
          
          $(go.Shape, "Circle",
          {
            fill: "rgba(128,0,0,0.2)", stroke: null,
            width: 300, height: 300
          }),

        $(go.TextBlock, { margin: 5, font: "bold 26px Georgia, Serif" },
        new go.Binding("text", "name"))
                    
      )
      ));
    
    var nodeDataArray = [
      {  name: "ap1", loc: "75 75", category: "ap"},
      {  name: "ap2", loc: "-75 -75", category: "ap"},
      {  name: "st1", loc: "150 -150",category: "st" },
      {  name: "st2", loc: "200 200" ,category: "st"},
      {  name: "st3", loc: "-190 138" ,category: "st"},
      {  name: "st4", loc: "-80 -125" ,category: "st"},
      {  name: "st5", loc: "-150 -80",category: "st"},
      {  name: "st6", loc: "90 130",category: "st" }      
    ];
    

    myDiagram.model = new go.GraphLinksModel(nodeDataArray);
}

</script>


</html>

